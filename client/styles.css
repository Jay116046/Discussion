:root {
  --panel-bg: #f4f4f4;
  --text-dark: #333;
  --divider: #ccc;
  --black: #000;
  --white: #fff;
  --blue: #1b73e8;
  --orange: #f59e0b;
  --red: #ef4444;
  --shadow: 0 6px 20px rgba(0,0,0,0.12);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; font-family: Arial, sans-serif; color: var(--text-dark); }

.container {
  display: flex; height: 100vh; width: 100vw;
  overflow: hidden; background: #fafafa;
}

/* Panels */
#userPanel {
  width: 20%; min-width: 240px; background: var(--panel-bg);
  border-right: 1px solid var(--divider); overflow-y: auto; box-shadow: var(--shadow);
}
#callArea {
  width: 60%; min-width: 480px; position: relative; background: var(--black);
  color: var(--white); display: flex; flex-direction: column; align-items: center;
}
#infoPanel {
  width: 20%; min-width: 240px; background: var(--white);
  border-left: 1px solid var(--divider); padding: 12px 16px; box-shadow: var(--shadow);
}

h2 { margin: 12px 16px; }

/* User list */
#userList { list-style: none; padding: 0; margin: 0; }
.user-item {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 14px; border-bottom: 1px solid var(--divider); cursor: pointer;
}
.user-item:hover { background: #ddd; }
.user-item .dot {
  width: 10px; height: 10px; border-radius: 50%; background: #22c55e;
}

/* Video region */
#videoRegion {
  width: 100%; display: flex; flex-direction: column; align-items: center;
  padding: 10px; gap: 10px;
}
video {
  width: 85%; max-height: 38vh; border-radius: 10px; background: #333;
  box-shadow: var(--shadow); object-fit: cover;
}

/* Controls */
#controls {
  position: absolute; bottom: 14px; left: 50%; transform: translateX(-50%);
  background: rgba(0,0,0,0.6); border-radius: 10px; padding: 8px 10px;
  display: flex; gap: 8px; z-index: 2;
}
.btn {
  padding: 10px 14px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;
}
.btn.end { background: var(--red); color: var(--white); }
.btn.mute { background: var(--orange); color: var(--white); }
.btn.speaker { background: var(--blue); color: var(--white); }
.btn.ghost { background: rgba(255,255,255,0.18); color: var(--white); }
#joinBtn {
  pointer-events: auto !important;
  z-index: 1000 !important;
  cursor: pointer !important;
}
/* Info panel */
#infoPanel p { margin: 8px 0; font-size: 15px; }
#statusText { margin-top: 16px; }

/* Modal */
.modal {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5);
  display: flex !important; align-items: center; justify-content: center; z-index: 10 ; 
}
.modal.hidden {
  display: none !important;
}
#joinBtn {
  pointer-events: auto !important;
  z-index: 1000 !important;
  cursor: pointer !important;
}
.modal-content {
  width: 90%; max-width: 420px; background: var(--white); border-radius: 10px;
  padding: 20px; box-shadow: var(--shadow);
  z-index: 11;
}

.modal .btn.primary { background: var(--blue); color: var(--white); width: 100%; margin-top: 12px; }
.error { color: var(--red); min-height: 18px; }

/* Audio Mode modifier */
.audio-mode #videoRegion { visibility: hidden; height: 0; }
.audio-mode { background: transparent !important; }

/* Responsive */
@media (max-width: 1100px) {
  #userPanel { width: 24%; }
  #callArea  { width: 52%; }
  #infoPanel { width: 24%; }
}
@media (max-width: 860px) {
  .container { flex-direction: column; }
  #userPanel, #infoPanel, #callArea { width: 100%; min-width: 0; }
  #controls { position: static; transform: none; margin: 10px 0 16px; }
  video { width: 96%; max-height: 30vh; }
}